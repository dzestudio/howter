!function(a){"use strict";var b=a.Howter||{};b.Context=function(a,b){var c;for(this.path=a.input,this.params={},c=0;c<a.length;c++)this.params[b[c]||c]=a[c]},a.Howter=b}(this),function(a){"use strict";var b=a.Howter||{};b.Route=function(a,c){var d,e=[],f=function(a){var b,c=/\/:([^\/]+)/g,d=/\/\*$/;if(a.constructor===RegExp)return a;for(c.lastIndex=0;null!==(b=c.exec(a));)e.push(b[1]);return a=a.replace(c,"/([^/]+)"),d.test(a)?(a=a.replace(d,"(/.*)?"),e.push("splat")):a=a.replace(/\/$/,""),new RegExp("^"+a+"$")};for(this.paths=[],d=0;d<a.length;d++)this.paths.push(f(a[d]));this.callback=c,this.extend=function(a){a.call(this,this.callback)},this.test=function(a){var c,d,f;for(c=0;c<this.paths.length;c++)if(null!==(d=a.match(this.paths[c]))){d.shift(),f=new b.Context(d,e),this.callback.call(f,f);break}}},a.Howter=b}(this),function(a){"use strict";var b=a.Howter||{},c={},d=0,e={};b.root=b.root||"",b.dispatch=function(a){var b;a=a.replace(/\/$/,"");for(b in c)c[b].test(a);return this},b.prefix=function(a,b){var c=this.root;return this.root+=a,b.call(this),this.root=c,this},b.route=function(a,e,f){var g;if(void 0===e)return f=a,c[f];for(a.constructor!==Array&&(a=[a]),g=0;g<a.length;g++)a[g].constructor===String&&(a[g]=this.root+a[g]);return f=f||d,c[f]=new b.Route(a,e),d++,this},b.share=function(a,b){return void 0===b?e[a]:(e[a]=b,this)},a.Howter=b}(this);